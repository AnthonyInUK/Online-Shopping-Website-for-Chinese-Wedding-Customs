# 数据库设置详细步骤

## 第一步：登录MySQL

```bash
mysql -u root -p
```

**输入您本地MySQL的root密码**（就是您安装MySQL时设置的密码）

## 第二步：在MySQL命令行中创建项目用户

登录成功后，在 `mysql>` 提示符下执行：

```sql
CREATE USER IF NOT EXISTS 'ecommerceapp'@'localhost' IDENTIFIED BY 'ecommerceapp';
GRANT ALL PRIVILEGES ON *.* TO 'ecommerceapp'@'localhost';
ALTER USER 'ecommerceapp'@'localhost' IDENTIFIED WITH mysql_native_password BY 'ecommerceapp';
FLUSH PRIVILEGES;
EXIT;
```

执行完成后会看到 "Query OK" 的提示，然后输入 `EXIT;` 退出。

## 第三步：导入数据库数据

退出MySQL后，在终端执行：

```bash
# 导入产品表和数据
mysql -u ecommerceapp -pecommerceapp < 01-starter-files/db-scripts/02-create-products.sql

# 导入国家和州数据
mysql -u ecommerceapp -pecommerceapp < 01-starter-files/db-scripts/03-countries-and-states.sql

# 创建订单表
mysql -u ecommerceapp -pecommerceapp < 01-starter-files/db-scripts/04-create-order-tables.sql
```

## 验证数据库设置

```bash
# 登录新创建的用户
mysql -u ecommerceapp -pecommerceapp

# 在MySQL命令行中检查
SHOW DATABASES;
USE full-stack-ecommerce;
SHOW TABLES;
```

应该能看到这些表：
- product
- product_category
- country
- state
- customer
- orders
- order_item
- address

## 如果忘记了MySQL root密码

### macOS重置密码：
```bash
# 停止MySQL
brew services stop mysql

# 以安全模式启动
mysqld_safe --skip-grant-tables &

# 登录（无需密码）
mysql -u root

# 重置密码
ALTER USER 'root'@'localhost' IDENTIFIED BY '新密码';
FLUSH PRIVILEGES;
EXIT;

# 重启MySQL
brew services restart mysql
```

